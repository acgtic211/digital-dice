{
  "@context": "https://www.w3.org/2019/wot/td/v1",
  "id": "urn:dev:acg:lab:environment_sensor",
  "title": "Environment Sensor",
  "@type": ["virtual", "custom"],
  "description": "Sensor de temperatura, luz y movimiento",
  "securityDefinitions": {
    "no_sec": {
      "scheme": "nosec"
    }
  },
  "security": ["no_sec"],
  "properties": {
    "temperature": {
      "type": "number",
      "description": "Temperatura medida por el sensor",
      "observable": true,
      "readOnly": false,
      "forms": [
        {
          "href": "/properties/temperature",
          "contentType": "application/json",
          "op": ["readproperty", "writeproperty", "observeproperty"]
        }
      ]
    },
    "light": {
      "type": "number",
      "description": "Nivel de luz medido por el sensor",
      "observable": true,
      "readOnly": false,
      "forms": [
        {
          "href": "/properties/light",
          "contentType": "application/json",
          "op": ["readproperty", "writeproperty", "observeproperty"]
        }
      ]
    },
    "motion": {
      "type": "boolean",
      "description": "Detección de movimiento por el sensor",
      "observable": true,
      "readOnly": false,
      "forms": [
        {
          "href": "/properties/motion",
          "contentType": "application/json",
          "op": ["readproperty", "writeproperty", "observeproperty"]
        }
      ]
    },
    "battery": {
      "type": "number",
      "description": "Nivel de batería del sensor",
      "observable": true,
      "readOnly": false,
      "forms": [
        {
          "href": "/properties/battery",
          "contentType": "application/json",
          "op": ["readproperty", "writeproperty", "observeproperty"]
        }
      ]
    },
    "fire": {
      "type": "boolean",
      "description": "Detección de incendio",
      "observable": true,
      "readOnly": false,
      "forms": [
        {
          "href": "/properties/fire",
          "contentType": "application/json",
          "op": ["readproperty", "writeproperty", "observeproperty"]
        }
      ]
    },
    "robberyDetected": {
      "type": "boolean",
      "description": "Detección de robo",
      "observable": true,
      "readOnly": false,
      "forms": [
        {
          "href": "/properties/robberyDetected",
          "contentType": "application/json",
          "op": ["readproperty", "writeproperty", "observeproperty"]
        }
      ]
    }
  },
  "actions": {
    "updateTemperature": {
      "description": "Actualizar la temperatura",
      "input": {
        "type": "number"
      },
      "output": {
        "type": "number"
      },
      "forms": [
        {
          "href": "/actions/updateTemperature",
          "contentType": "application/json",
          "op": ["invokeaction"]
        }
      ]
    }
  },
  "events": {
    "temperatureThresholdExceeded": {
      "description": "Evento cuando la temperatura supera los 25°C",
      "data": {
        "type": "boolean"
      },
      "forms": [
        {
          "href": "/events/temperatureThresholdExceeded",
          "contentType": "application/json",
          "op": ["subscribeevent"]
        }
      ]
    }
  }
}